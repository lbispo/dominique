let $=(b,...c)=>{b=b||{};let d,e,f=new Map,g=new Map,h=b.constructor;if(h===String)for(b=document.querySelectorAll(b),d=0;d<b.length;d++)f.set(d,b[d]);else if(h===Map)f=new Map(b);else if("function"==typeof b[Symbol.iterator])e=Array.from(b),e.forEach((a,b)=>{f.set(b,a)});else if(h===Object||h===DOMStringMap)for(d in b)f.set(d,b[d]);else if(h===Number)for(d=0;d<b;d++)f.set(d,d);else f.set(0,b);return c[0]?c[0].constructor===Function?[...f.keys()].map(a=>(c[1]&&c[1].call(f.get(a),f.get(a)),c[0](f.get(a),a))).join(""):(f.forEach((a,b)=>{c.reduce(function(c,d){return a.constructor===Set||a.constructor===Map?(g.set(b,c.get(d)),c.get(d)||{}):(g.set(b,c[d]),c[d]||{})},a)}),g.forEach((a,b)=>{g[b]=a}),g):(f.forEach((a,b)=>{f[b]=a}),f)},aft=(b,a)=>{let c=new Set;return $(b,a=>{let b=a.nextElementSibling;b&&c.add(b)}),$(c,()=>{},a),c},create=(b,c)=>{if(""!==b)return b=document.createElement(b),$(b,function(){},c),b},fore=(b,a)=>{let c=new Set;return $(b,a=>{let b=a.previousElementSibling;b&&c.add(b)}),$(c,()=>{},a),c},step=(b,a)=>(b=$(b).get(0),b=b||{},$(b,()=>{},a),b),walk=(b,a)=>{let c=new Set;return $(b,a=>{a instanceof HTMLElement&&c.add(a)}),$(c,()=>{},a),c},attributes=(c,a)=>{$(c,b=>{$(a,(a,c)=>{a=a&&a.constructor===Function?a.call(b,b.attributes):a,b.setAttribute(c,a)})})},classes=(c,a)=>{$(c,b=>{a&&!a.forEach&&a.constructor!==Object||$(a,(c,d)=>{c=c&&c.constructor===Function?c.call(b,b.classList):c,a.constructor===Array||a.constructor===Set?b.classList.add(c):c?!0===c?b.classList.add(d):c.constructor===Object?b.classList.toggle(d):b.classList.replace(d,c):b.classList.remove(d)})})},properties=(c,a)=>{$(c,b=>{$(a,(a,c)=>{a=a&&a.constructor===Function?a.call(b,b.dataset):a,b.dataset[c]=a})})},styles=(c,a)=>{$(c,b=>{$(a,(a,c)=>{a=a&&a.constructor===Function?a.call(b,b.style):a,b.style[c]=a})})},attach=(b,a,c,d)=>{$(b,b=>{b.addEventListener(a,c,d)})},detach=(b,a,c,d)=>{$(b,b=>{b.removeEventListener(a,c,d)})},delegate=(c,a,b,d,e)=>{$(c,c=>{c.addEventListener(b,b=>{b.target.matches(a)&&d.call(b.target,b)},e)})};