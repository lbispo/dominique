let $=(b,c,d)=>{b=b||{};let e,f,g=new Map,h=new Map,j=b.constructor;if(j===String)for(b=document.querySelectorAll(b),e=0;e<b.length;e++)g.set(e,b[e]);else if(j===Map)g=new Map(b);else if("function"==typeof b[Symbol.iterator])f=Array.from(b),f.forEach((a,b)=>{g.set(b,a)});else if(j===Object||j===DOMStringMap)for(e in b)g.set(e,b[e]);else if(j===Number)for(e=0;e<b;e++)g.set(e,e);else g.set(0,b);return g.forEach((a,b)=>{g[b]=a}),c?c.constructor===Function?[...g.keys()].map(a=>(d&&d.call(g.get(a),g.get(a)),c(g.get(a),a))).join(""):(g.forEach((a,b)=>{h.set(b,a[c])}),h):g},create=(b,c)=>{if(""!==b)return b=document.createElement(b),$(b,function(){},c),b},walk=(b,a)=>{let c=new Set;return $(b,a=>{a instanceof HTMLElement&&c.add(a)}),$(c,()=>{},a),c},step=(b,a)=>(b=$(b).get(0),b=b||{},$(b,()=>{},a),b),fore=(b,a)=>{let c=new Set;return $(b,a=>{let b=a.previousElementSibling;b&&c.add(b)}),$(c,()=>{},a),c},aft=(b,a)=>{let c=new Set;return $(b,a=>{let b=a.nextElementSibling;b&&c.add(b)}),$(c,()=>{},a),c},attach=(b,a,c,d)=>{$(b,b=>{b.addEventListener(a,c,d)})},detach=(b,a,c,d)=>{$(b,b=>{b.removeEventListener(a,c,d)})},delegate=(c,a,b,d,e)=>{$(c,c=>{c.addEventListener(b,b=>{b.target.matches(a)&&d.call(b.target,b)},e)})},attributes=(c,a)=>{$(c,b=>{$(a).forEach((a,c)=>{a=a&&a.constructor===Function?a.call(b,b.attributes):a,!1===a?b.removeAttribute(c):b.setAttribute(c,a)})})},classes=(c,a)=>{$(c,b=>{$(a).forEach((c,d)=>{c=c&&c.constructor===Function?c.call(b,b.classList):c,a.constructor===Array||a.constructor===Set?b.classList.add(c):c?!0===c?b.classList.add(d):c.constructor===Object?b.classList.toggle(d):b.classList.replace(d,c):b.classList.remove(d)})})},properties=(c,a)=>{$(c,b=>{$(a).forEach((a,c)=>{a=a&&a.constructor===Function?a.call(b,b.dataset):a,b.dataset[c]=a})})},styles=(c,a)=>{$(c,b=>{$(a).forEach((a,c)=>{a=a&&a.constructor===Function?a.call(b,b.style):a,!1===a?b.style.removeProperty(c):b.style[c]=a})})};